const { PrismaClient } = require('@prisma/client');
const prisma = new PrismaClient();

async function main() {
  console.log('üå± ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡πÉ‡∏™‡πà‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á...');

  // ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ
  const adminUser = await prisma.user.upsert({
    where: { username: 'admin' },
    update: {},
    create: {
      username: 'admin',
      password: 'admin123', // ‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏£‡∏¥‡∏á‡∏Ñ‡∏ß‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡∏´‡∏±‡∏™
      email: 'admin@warehouse.com',
      firstName: '‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•',
      lastName: '‡∏£‡∏∞‡∏ö‡∏ö',
      role: 'ADMIN'
    }
  });

  const staffUser = await prisma.user.upsert({
    where: { username: 'staff' },
    update: {},
    create: {
      username: 'staff',
      password: 'staff123',
      email: 'staff@warehouse.com',
      firstName: '‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô',
      lastName: '‡∏Ñ‡∏•‡∏±‡∏á‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤',
      role: 'STAFF'
    }
  });

  console.log('‚úÖ ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à');

  // ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà
  const categories = await Promise.all([
    prisma.category.upsert({
      where: { name: '‡∏≠‡∏¥‡πÄ‡∏•‡πá‡∏Å‡∏ó‡∏£‡∏≠‡∏ô‡∏¥‡∏Å‡∏™‡πå' },
      update: {},
      create: {
        name: '‡∏≠‡∏¥‡πÄ‡∏•‡πá‡∏Å‡∏ó‡∏£‡∏≠‡∏ô‡∏¥‡∏Å‡∏™‡πå',
        description: '‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏≠‡∏¥‡πÄ‡∏•‡πá‡∏Å‡∏ó‡∏£‡∏≠‡∏ô‡∏¥‡∏Å‡∏™‡πå‡πÅ‡∏•‡∏∞‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå'
      }
    }),
    prisma.category.upsert({
      where: { name: '‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏ú‡πâ‡∏≤' },
      update: {},
      create: {
        name: '‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏ú‡πâ‡∏≤',
        description: '‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏ú‡πâ‡∏≤‡πÅ‡∏•‡∏∞‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÅ‡∏ï‡πà‡∏á‡∏Å‡∏≤‡∏¢'
      }
    }),
    prisma.category.upsert({
      where: { name: '‡∏≠‡∏≤‡∏´‡∏≤‡∏£' },
      update: {},
      create: {
        name: '‡∏≠‡∏≤‡∏´‡∏≤‡∏£',
        description: '‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÅ‡∏•‡∏∞‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏î‡∏∑‡πà‡∏°'
      }
    })
  ]);

  console.log('‚úÖ ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à');

  // ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ã‡∏±‡∏û‡∏û‡∏•‡∏≤‡∏¢‡πÄ‡∏≠‡∏≠‡∏£‡πå
  const suppliers = await Promise.all([
    prisma.supplier.upsert({
      where: { name: '‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó ‡∏≠‡∏¥‡πÄ‡∏•‡πá‡∏Å‡∏ó‡∏£‡∏≠‡∏ô‡∏¥‡∏Å‡∏™‡πå ‡∏à‡∏≥‡∏Å‡∏±‡∏î' },
      update: {},
      create: {
        name: '‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó ‡∏≠‡∏¥‡πÄ‡∏•‡πá‡∏Å‡∏ó‡∏£‡∏≠‡∏ô‡∏¥‡∏Å‡∏™‡πå ‡∏à‡∏≥‡∏Å‡∏±‡∏î',
        contactName: '‡∏Ñ‡∏∏‡∏ì‡∏™‡∏°‡∏ä‡∏≤‡∏¢',
        email: 'contact@electronics.co.th',
        phone: '02-123-4567',
        address: '123 ‡∏ñ‡∏ô‡∏ô‡∏™‡∏∏‡∏Ç‡∏∏‡∏°‡∏ß‡∏¥‡∏ó ‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏Ø'
      }
    }),
    prisma.supplier.upsert({
      where: { name: '‡πÇ‡∏£‡∏á‡∏á‡∏≤‡∏ô‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏ú‡πâ‡∏≤‡πÑ‡∏ó‡∏¢' },
      update: {},
      create: {
        name: '‡πÇ‡∏£‡∏á‡∏á‡∏≤‡∏ô‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏ú‡πâ‡∏≤‡πÑ‡∏ó‡∏¢',
        contactName: '‡∏Ñ‡∏∏‡∏ì‡∏™‡∏°‡∏´‡∏ç‡∏¥‡∏á',
        email: 'info@thai-clothing.com',
        phone: '02-987-6543',
        address: '456 ‡∏ñ‡∏ô‡∏ô‡∏£‡∏±‡∏ä‡∏î‡∏≤‡∏†‡∏¥‡πÄ‡∏©‡∏Å ‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏Ø'
      }
    })
  ]);

  console.log('‚úÖ ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ã‡∏±‡∏û‡∏û‡∏•‡∏≤‡∏¢‡πÄ‡∏≠‡∏≠‡∏£‡πå‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à');

  // ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤
  const customers = await Promise.all([
    prisma.customer.upsert({
      where: { email: 'customer1@example.com' },
      update: {},
      create: {
        firstName: '‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤',
        lastName: '‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà 1',
        email: 'customer1@example.com',
        phone: '081-123-4567',
        address: '789 ‡∏ñ‡∏ô‡∏ô‡∏•‡∏≤‡∏î‡∏û‡∏£‡πâ‡∏≤‡∏ß ‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏Ø'
      }
    }),
    prisma.customer.upsert({
      where: { email: 'customer2@example.com' },
      update: {},
      create: {
        firstName: '‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤',
        lastName: '‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà 2',
        email: 'customer2@example.com',
        phone: '082-987-6543',
        address: '321 ‡∏ñ‡∏ô‡∏ô‡∏ß‡∏¥‡∏†‡∏≤‡∏ß‡∏î‡∏µ ‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏Ø'
      }
    })
  ]);

  console.log('‚úÖ ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à');

  // ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÉ‡∏ô‡∏Ñ‡∏•‡∏±‡∏á
  const locations = await Promise.all([
    prisma.warehouseLocation.upsert({
      where: { name: 'Zone A' },
      update: {},
      create: {
        name: 'Zone A',
        description: '‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡πá‡∏ö‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏≠‡∏¥‡πÄ‡∏•‡πá‡∏Å‡∏ó‡∏£‡∏≠‡∏ô‡∏¥‡∏Å‡∏™‡πå'
      }
    }),
    prisma.warehouseLocation.upsert({
      where: { name: 'Zone B' },
      update: {},
      create: {
        name: 'Zone B',
        description: '‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡πá‡∏ö‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏ú‡πâ‡∏≤'
      }
    }),
    prisma.warehouseLocation.upsert({
      where: { name: 'Zone C' },
      update: {},
      create: {
        name: 'Zone C',
        description: '‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡πá‡∏ö‡∏≠‡∏≤‡∏´‡∏≤‡∏£'
      }
    })
  ]);

  console.log('‚úÖ ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÉ‡∏ô‡∏Ñ‡∏•‡∏±‡∏á‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à');

  // ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤
  const products = await Promise.all([
    prisma.product.upsert({
      where: { sku: 'ELEC-001' },
      update: {},
      create: {
        sku: 'ELEC-001',
        name: '‡∏™‡∏°‡∏≤‡∏£‡πå‡∏ó‡πÇ‡∏ü‡∏ô Samsung Galaxy',
        description: '‡∏™‡∏°‡∏≤‡∏£‡πå‡∏ó‡πÇ‡∏ü‡∏ô‡∏£‡∏∏‡πà‡∏ô‡πÉ‡∏´‡∏°‡πà‡∏à‡∏≤‡∏Å Samsung',
        unitPrice: 15000.00,
        weight: 0.2,
        dimensions: '15x7x0.8 cm',
        categoryId: categories[0].id
      }
    }),
    prisma.product.upsert({
      where: { sku: 'ELEC-002' },
      update: {},
      create: {
        sku: 'ELEC-002',
        name: '‡πÅ‡∏•‡πá‡∏õ‡∏ó‡πá‡∏≠‡∏õ Dell Inspiron',
        description: '‡πÅ‡∏•‡πá‡∏õ‡∏ó‡πá‡∏≠‡∏õ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏á‡∏≤‡∏ô‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ',
        unitPrice: 25000.00,
        weight: 2.5,
        dimensions: '35x25x2 cm',
        categoryId: categories[0].id
      }
    }),
    prisma.product.upsert({
      where: { sku: 'CLOTH-001' },
      update: {},
      create: {
        sku: 'CLOTH-001',
        name: '‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏¢‡∏∑‡∏î‡∏Ñ‡∏≠‡∏Å‡∏•‡∏°',
        description: '‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏¢‡∏∑‡∏î‡∏Ñ‡∏≠‡∏Å‡∏•‡∏° ‡∏ú‡πâ‡∏≤‡∏ù‡πâ‡∏≤‡∏¢ 100%',
        unitPrice: 250.00,
        weight: 0.15,
        dimensions: '25x20x2 cm',
        categoryId: categories[1].id
      }
    }),
    prisma.product.upsert({
      where: { sku: 'FOOD-001' },
      update: {},
      create: {
        sku: 'FOOD-001',
        name: '‡∏ô‡πâ‡∏≥‡∏î‡∏∑‡πà‡∏°‡∏ö‡∏£‡∏£‡∏à‡∏∏‡∏Ç‡∏ß‡∏î',
        description: '‡∏ô‡πâ‡∏≥‡∏î‡∏∑‡πà‡∏°‡∏ö‡∏£‡∏£‡∏à‡∏∏‡∏Ç‡∏ß‡∏î 500ml',
        unitPrice: 10.00,
        weight: 0.5,
        dimensions: '8x8x20 cm',
        categoryId: categories[2].id
      }
    })
  ]);

  console.log('‚úÖ ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à');

  // ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ñ‡∏•‡∏±‡∏á‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤
  const inventories = await Promise.all([
    prisma.inventory.upsert({
      where: { productId: products[0].id },
      update: {},
      create: {
        productId: products[0].id,
        quantity: 50,
        locationId: locations[0].id,
        minStockLevel: 10,
        maxStockLevel: 100
      }
    }),
    prisma.inventory.upsert({
      where: { productId: products[1].id },
      update: {},
      create: {
        productId: products[1].id,
        quantity: 20,
        locationId: locations[0].id,
        minStockLevel: 5,
        maxStockLevel: 50
      }
    }),
    prisma.inventory.upsert({
      where: { productId: products[2].id },
      update: {},
      create: {
        productId: products[2].id,
        quantity: 200,
        locationId: locations[1].id,
        minStockLevel: 50,
        maxStockLevel: 500
      }
    }),
    prisma.inventory.upsert({
      where: { productId: products[3].id },
      update: {},
      create: {
        productId: products[3].id,
        quantity: 1000,
        locationId: locations[2].id,
        minStockLevel: 200,
        maxStockLevel: 2000
      }
    })
  ]);

  console.log('‚úÖ ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ñ‡∏•‡∏±‡∏á‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à');

  // ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ò‡∏∏‡∏£‡∏Å‡∏£‡∏£‡∏°‡∏Ñ‡∏•‡∏±‡∏á‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô
  await Promise.all([
    prisma.inventoryTransaction.create({
      data: {
        inventoryId: inventories[0].id,
        type: 'RECEIVE',
        quantity: 50,
        description: '‡∏£‡∏±‡∏ö‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô'
      }
    }),
    prisma.inventoryTransaction.create({
      data: {
        inventoryId: inventories[1].id,
        type: 'RECEIVE',
        quantity: 20,
        description: '‡∏£‡∏±‡∏ö‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô'
      }
    }),
    prisma.inventoryTransaction.create({
      data: {
        inventoryId: inventories[2].id,
        type: 'RECEIVE',
        quantity: 200,
        description: '‡∏£‡∏±‡∏ö‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô'
      }
    }),
    prisma.inventoryTransaction.create({
      data: {
        inventoryId: inventories[3].id,
        type: 'RECEIVE',
        quantity: 1000,
        description: '‡∏£‡∏±‡∏ö‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô'
      }
    })
  ]);

  console.log('‚úÖ ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ò‡∏∏‡∏£‡∏Å‡∏£‡∏£‡∏°‡∏Ñ‡∏•‡∏±‡∏á‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à');

  console.log('üéâ ‡πÉ‡∏™‡πà‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô!');
  console.log('');
  console.log('üìä ‡∏™‡∏£‡∏∏‡∏õ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡πÉ‡∏™‡πà:');
  console.log(`   - ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ: ${adminUser.username}, ${staffUser.username}`);
  console.log(`   - ‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà: ${categories.length} ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£`);
  console.log(`   - ‡∏ã‡∏±‡∏û‡∏û‡∏•‡∏≤‡∏¢‡πÄ‡∏≠‡∏≠‡∏£‡πå: ${suppliers.length} ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£`);
  console.log(`   - ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤: ${customers.length} ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£`);
  console.log(`   - ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÉ‡∏ô‡∏Ñ‡∏•‡∏±‡∏á: ${locations.length} ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£`);
  console.log(`   - ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤: ${products.length} ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£`);
  console.log(`   - ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ñ‡∏•‡∏±‡∏á‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤: ${inventories.length} ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£`);
  console.log('');
  console.log('üöÄ ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô API ‡πÑ‡∏î‡πâ‡∏î‡πâ‡∏ß‡∏¢‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á: npm start');
}

main()
  .catch((e) => {
    console.error('‚ùå ‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÉ‡∏™‡πà‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•:', e);
    process.exit(1);
  })
  .finally(async () => {
    await prisma.$disconnect();
  }); 